import{w as v}from"./index.5dc4b988.js";/*! js-cookie v3.0.1 | MIT */function f(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var c in r)e[c]=r[c]}return e}var h={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function p(e,o){function r(t,s,n){if(!(typeof document>"u")){n=f({},o,n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires&&(n.expires=n.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in n)n[a]&&(i+="; "+a,n[a]!==!0&&(i+="="+n[a].split(";")[0]));return document.cookie=t+"="+e.write(s,t)+i}}function c(t){if(!(typeof document>"u"||arguments.length&&!t)){for(var s=document.cookie?document.cookie.split("; "):[],n={},i=0;i<s.length;i++){var a=s[i].split("="),u=a.slice(1).join("=");try{var l=decodeURIComponent(a[0]);if(n[l]=e.read(u,l),t===l)break}catch{}}return t?n[t]:n}}return Object.create({set:r,get:c,remove:function(t,s){r(t,"",f({},s,{expires:-1}))},withAttributes:function(t){return p(this.converter,f({},this.attributes,t))},withConverter:function(t){return p(f({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(e)}})}var m=p(h,{path:"/"});function T(e="",o="",r={},c="POST"){return g(e,r,o,c,"json")}function w(e="",o={},r="POST"){return g(e,o,"",r,"json")}function g(e="",o={},r="",c="POST",t="json"){var s=m.get("csrftoken");if(r)var n={Authorization:"JWT "+r,"X-CSRFToken":s};else var n={"X-CSRFToken":s};if(t=="json"){n["Content-Type"]="application/json";var o=JSON.stringify(o)}return fetch(e,{method:c,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:n,redirect:"follow",referrer:"no-referrer",body:o}).then(async i=>{if(i.ok)if(c==="DELETE"){var a={success:!0};return a}else{var a=await i.json();return a}else{var u=await i.json();throw u}})}let C;const d=window.localStorage.getItem("user")??C,j=v(d);function S(e){w("https://codingchaska.up.railway.app/api/v1/auth/get-user-email/",{email:e}).then(r=>{j.set(JSON.stringify(r)),localStorage.setItem("user",JSON.stringify(r))}).catch(r=>{console.log(r)})}if(d){let e=JSON.parse(d).user.email;setInterval(function(){S(e)},12e4)}export{w as a,T as p,j as u};
